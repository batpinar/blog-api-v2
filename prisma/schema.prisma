// Mevcut Post ve Tag modellerini güncelliyoruz
model Post {
  id           Int       @id @default(autoincrement())
  category_id  Int
  title        String
  content      String
  created_at   DateTime  @default(now())
  published_at DateTime?
  deleted_at   DateTime?

  category     Category  @relation(fields: [category_id], references: [id])
  comments     Comment[]
  tags         PostTag[] // Değişiklik burada

  @@map("posts")
}

model Tag {
  id   Int    @id @default(autoincrement())
  name String

  posts PostTag[] // Değişiklik burada

  @@map("tags")
}

// Yeni junction model ekliyoruz
model PostTag {
  post_id Int
  tag_id  Int
  
  post    Post     @relation(fields: [post_id], references: [id])
  tag     Tag      @relation(fields: [tag_id], references: [id])

  @@id([post_id, tag_id])
  @@map("post_tags")
}
